(this.webpackJsonpdashboard=this.webpackJsonpdashboard||[]).push([[0],{106:function(e,t,a){e.exports=a(193)},111:function(e,t,a){},172:function(e,t,a){},193:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(36),i=a.n(r),c=a(17),s=a(45),o=a(46),d=a(64),u=a(47),m=a(25),h=a(63),v=(a(111),a(103)),g=a(94),b=a(78),E=a(35),p=a(200),f=a(201),y=a(198),C=a(199),w=a(67),k=a(58),N=a(202),S=a(101),D=a(76),O=a.n(D),j=(a(112),a(104));Object(D.registerLocale)("ko",j.a);var A=function(e){var t=l.a.createElement(g.a,{name:"search",type:"input",placeholder:"\uc601\ud654\uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",className:"mr-sm-2",onChange:e.searchChange,required:!0}),a=l.a.createElement(O.a,{name:"date",selected:e.searchDate,onChange:e.datePickerChange,dateFormat:"yyyy-MM-dd",className:"mr-sm-2 form-control",locale:"ko"});return l.a.createElement(b.a,{className:"mt-0"},l.a.createElement(E.a,null,l.a.createElement(p.a,{expand:"lg",bg:"light",variant:"light",className:"justify-content-between"},l.a.createElement(p.a.Brand,{href:"./",className:"ml-1 font-weight-bold"},"1\ub144 \uc804, \uc778\uae30 \uc601\ud654\ub294?"),l.a.createElement(f.a,{inline:!0,className:"",onSubmit:e.submit},l.a.createElement(y.a,null,l.a.createElement(C.a,{as:y.a.Prepend,variant:"secondary",title:e.dropdownTitle,id:"input-group-dropdown-1",onSelect:e.dropdownSelect},l.a.createElement(w.a.Item,{eventKey:"date"},"\ub0a0\uc9dc"),l.a.createElement(w.a.Item,{eventKey:"movieName"},"\uc601\ud654\uba85")),"\uc601\ud654\uba85"===e.dropdownTitle?t:a,l.a.createElement(k.a,{type:"submit",variant:"dark"},"\uac80\uc0c9"))),l.a.createElement(N.a,{"aria-label":"Basic example",type:"radio",name:"options",defaultValue:"attendance",onChange:e.buttonClick},l.a.createElement(S.a,{value:"attendance",variant:"outline-secondary"},"\uad00\uac1d\uc218"),l.a.createElement(S.a,{value:"income",variant:"outline-secondary"},"\ub9e4\ucd9c\uc561")))))},F=a(60),L=(a(172),function(e){return l.a.createElement("div",{className:"bg-white"},l.a.createElement("div",{className:"mt-3 border-bottom"},l.a.createElement("h5",null,e&&e.title," ",l.a.createElement("small",{className:"ml-3"},e.date))),l.a.createElement("div",null,l.a.createElement(F.a,{className:"bg-white mt-2"},l.a.createElement("tbody",null,e.data&&e.data.map((function(t){return l.a.createElement("tr",{key:t.movieCode},l.a.createElement("td",{className:"movie-title text-left","data-title":t.movieCode,onClick:e.click},t.movieName),l.a.createElement("td",{className:"text-right"},t.value))})),l.a.createElement("tr",null,l.a.createElement("td",{colSpan:"2"},"More..."))))))}),x=a(27),M=a.n(x),T=a(61),P=a.n(T),V=function(e){var t={chart:{type:"pie",height:241},credits:{enabled:!1},title:{text:void 0},plotOptions:{pie:{innerSize:"60%",colors:["#4dabf7","#74c0fc","#a5d8ff","#d0ebff","#e7f5ff"],dataLabels:{enabled:!0,formatter:function(){return this.key.length>8?this.key.substring(0,8)+"...":this.key},distance:-20}}},legend:{enabled:!1,align:"right",layout:"horizontal",verticalAlign:"bottom"},tooltip:{pointFormatter:function(){return"".concat(this.percentage.toFixed(2),"% (").concat(this.y.toLocaleString(),"\uad00)")}},series:[{data:e.data?e.data:null,showInLegend:!0}]};return l.a.createElement("div",{className:"bg-white"},l.a.createElement("div",{className:"mt-3 border-bottom"},l.a.createElement("h5",null,e&&e.title," ",l.a.createElement("small",{className:"ml-3"},e.date))),l.a.createElement("div",null,l.a.createElement(P.a,{highcharts:M.a,options:t})))};a(173)(M.a);var Y=function(e){var t=e.data?e.data.series:null,a=e.data?e.data.categories:null;M.a.setOptions({lang:{thousandsSep:","}});var n={chart:{type:"area",height:241},title:{text:void 0},credits:{enabled:!1},xAxis:{categories:a,tickPositioner:function(){var e=this.categories.length,t=[];if(!(e<=8)){if(e>8&&e%2!==0){for(var a=0;a<e;a+=2)t.push(a);return t}if(e>8&&e%2===0){for(var n=0;n<e;n+=3)t.push(n);return t.push(e-1),t}}}},yAxis:{title:void 0,min:0,labels:{formatter:function(){var e=this.value,t="";return e>=1e4&&e<1e8?(e/=1e4,t="\ub9cc"):e>=1e8&&e<1e12&&(e/=1e8,t="\uc5b5"),e.toLocaleString()+t}}},plotOptions:{series:{color:"#5591f4",marker:{fillColor:"#FFFFFF",lineWidth:2,lineColor:null},fillOpacity:.1}},legend:{enabled:!1},tooltip:{pointFormatter:function(){return this.y.toLocaleString()+this.series.userOptions.tooltipUnit}},series:t};return l.a.createElement("div",{className:"bg-white"},l.a.createElement("div",{className:"mt-3 border-bottom"},l.a.createElement("h5",null,e&&e.title," ",l.a.createElement("small",{className:"ml-3"},e.date))),l.a.createElement("div",null,l.a.createElement(P.a,{highcharts:M.a,options:n})))},B=function(e){function t(){return Object(s.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.data,t=e.title,a=e.daily,n=e.cumulative,r=e.theaters,i=e.trend,c=t.date,s=c.substr(0,4),o=c.substr(4,2),d=c.substr(6,5),u="".concat(s,"-").concat(o,"-").concat(d," \uae30\uc900"),m=l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{className:"mt-3 bg-light"},l.a.createElement(E.a,{xs:12,sm:3,md:4},l.a.createElement(L,{title:t&&t.daily,date:u,data:a,click:this.props.change})),l.a.createElement(E.a,{xs:12,sm:3,md:4},l.a.createElement(L,{title:t&&t.cumulative,date:u,data:n,click:this.props.change})),l.a.createElement(E.a,{xs:12,sm:6,md:4},l.a.createElement(V,{title:t&&t.theaters,date:u,data:r}))),l.a.createElement(b.a,{className:"bg-light"},l.a.createElement(E.a,{xs:12,sm:12,md:12,className:"mb-3"},l.a.createElement(Y,{title:t&&t.trend,date:u,data:i}))));return l.a.createElement(l.a.Fragment,null,m)}}]),t}(n.Component),I=function(e){var t=l.a.createElement("div",{className:"bg-white"},l.a.createElement("div",{className:"mt-3 border-bottom"},l.a.createElement("h5",null,e.data&&e.data[0].movieNm)),l.a.createElement("div",null,l.a.createElement(F.a,{className:"bg-white mt-2"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"\ub0a0\uc9dc"),l.a.createElement("th",null,"\uc21c\uc704"),l.a.createElement("th",null,"\ub9e4\ucd9c"),l.a.createElement("th",null,"\ub204\uc801\ub9e4\ucd9c"),l.a.createElement("th",null,"\uad00\uac1d"),l.a.createElement("th",null,"\ub204\uc801\uad00\uac1d"),l.a.createElement("th",null,"\uc0c1\uc601\uad00\uc218"),l.a.createElement("th",null,"\uc0c1\uc601\ud69f\uc218"))),l.a.createElement("tbody",null,e.data&&e.data.map((function(e,t){return l.a.createElement("tr",{key:t},l.a.createElement("td",null,e.date),l.a.createElement("td",null,e.rank),l.a.createElement("td",null,e.salesAmt.toLocaleString()),l.a.createElement("td",null,e.salesAcc.toLocaleString()),l.a.createElement("td",null,e.audiCnt.toLocaleString()),l.a.createElement("td",null,e.audiAcc.toLocaleString()),l.a.createElement("td",null,e.scrnCnt.toLocaleString()),l.a.createElement("td",null,e.showcnt.toLocaleString()))})))))),a=l.a.createElement("p",null,"\ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4. 2019\ub144 \ub0b4 \uc601\ud654\uc81c\ubaa9\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694. (\uc608: \uc54c\ub77c\ub518, \uadf9\ud55c\uc9c1\uc5c5, \ub9d0\ubaa8\uc774 \ub4f1...)");return l.a.createElement(l.a.Fragment,null,e.data?t:a)},z=function(e,t,a,n){var l,r=[],i=[],c=[],s=null,o=t.replace(/daily|cumulative/g,""),d=t.replace(/[0-9]*/g,""),u="",m="",h="\uba85";l=(s=e.filter((function(e){return e.movieCd===o}))).findIndex((function(e){return e.date===a})),n?(u="daily"===d?"audiCnt":"audiAcc",m="".concat(s[0].movieNm,"daily"===d?" \uc77c\ubcc4 \uad00\uac1d\uc218":" \uc77c\ubcc4 \ub204\uc801\uad00\uac1d\uc218")):(u="daily"===d?"salesAmt":"salesAcc",m="".concat(s[0].movieNm,"daily"===d?" \uc77c\ubcc4 \uc218\uc785":" \uc77c\ubcc4 \ub204\uc801\uc218\uc785"),h="\uc6d0");for(var v=0;v<=l;v++){var g=K(s[v].date),b=s[v][u];r.push(g),c.push(b)}return i.push({name:s[0].movieNm,data:c,tooltipUnit:h}),{categories:r,series:i,title:m}},K=function(e){var t=e.substr(0,4),a=e.substr(4,2),n=e.substr(6,5),l="".concat(t,"-").concat(a,"-").concat(n),r=new Date(l).getDay();return"".concat(a,".").concat(n," <br /> ").concat(["\uc77c","\uc6d4","\ud654","\uc218","\ubaa9","\uae08","\ud1a0"][r])},J=function(e){var t=2020===e.getFullYear(),a=""+(e.getMonth()+1),n=""+e.getDate(),l=t?e.getFullYear()-1:e.getFullYear();return a.length<2&&(a="0"+a),n.length<2&&(n="0"+n),console.log([l,a,n].join("")),[l,a,n].join("")},U=function(e,t){for(var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n={date:t,daily:"\uad00\uac1d\uc218",cumulative:"\ub204\uc801\uad00\uac1d\uc218",theaters:"\uc0c1\uc601\uad00\uc218",trend:""},l={date:t,daily:"\uc218\uc785",cumulative:"\ub204\uc801\uc218\uc785",theaters:"\uc0c1\uc601\uad00\uc218",trend:""},r={title:a?n:l,daily:[],cumulative:[],theaters:[],trend:null,rawdata:e},i=[],c=[],s=e,o=s.filter((function(e){return e.date===t})),d=a?"audiCnt":"salesAmt",u=a?"\uba85":"\uc6d0",m=0;m<5;m++){var h={movieCode:"daily".concat(o[m].movieCd),movieName:o[m].movieNm,value:o[m][d].toLocaleString()+u},v={name:o[m].movieNm,data:[]};r.daily.push(h),i.push(v),c.push(o[m].movieNm)}d=a?"audiAcc":"salesAcc",o.sort((function(e,t){return t[d]-e[d]}));for(var g=0;g<5;g++){var b={movieCode:"cumulative".concat(o[g].movieCd),movieName:o[g].movieNm,value:o[g][d].toLocaleString()+u};r.cumulative.push(b)}o.sort((function(e,t){return t.scrnCnt-e.scrnCnt}));for(var E=0;E<5;E++){var p={name:o[E].movieNm,y:o[E].scrnCnt};r.theaters.push(p)}return r.trend=z(s,r.daily[0].movieCode,t,a),r.title.trend=r.trend.title,r},q=a(102),W=a.n(q),G=function(){return l.a.createElement(b.a,null,l.a.createElement(E.a,null,l.a.createElement("div",{className:"text-center"},l.a.createElement("p",{style:{fontSize:"1rem"}},"\ub300\uc2dc\ubcf4\ub4dc: 1\ub144 \uc804 \uc601\ud654\uc21c\uc704 ",l.a.createElement("br",null),"Developed by Dongwook Kim (dongwook224@naver.com)"))))},H=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(d.a)(this,Object(u.a)(t).call(this))).state={isAttendace:!0,searchValue:"",buttonValue:null,titleData:null,searchDate:new Date((new Date).setFullYear((new Date).getFullYear()-2)),currentDate:new Date((new Date).setFullYear((new Date).getFullYear()-2)),dropdownTitle:"\ub0a0\uc9dc",isLoading:!0,isSearch:!1,title:null,daily:null,cumulative:null,theaters:null,trend:null,rawdata:null,isTitle:!1,loadingMessage:l.a.createElement("p",{className:"mt-3"},"\ub370\uc774\ud130 \ub85c\ub4dc \uc911\uc785\ub2c8\ub2e4...")},e.handleMovienameClick=e.handleMovienameClick.bind(Object(m.a)(e)),e.handleDropdownSelect=e.handleDropdownSelect.bind(Object(m.a)(e)),e.handleSearchChange=e.handleSearchChange.bind(Object(m.a)(e)),e.handleDatePickerChange=e.handleDatePickerChange.bind(Object(m.a)(e)),e.handleSubmit=e.handleSubmit.bind(Object(m.a)(e)),e.handleButtonClick=e.handleButtonClick.bind(Object(m.a)(e)),e}return Object(h.a)(t,e),Object(o.a)(t,[{key:"handleDropdownSelect",value:function(e){var t="movieName"===e?"\uc601\ud654\uba85":"\ub0a0\uc9dc";this.setState(Object(c.a)({},this.state,{},{dropdownTitle:t}))}},{key:"handleSearchChange",value:function(e){this.setState(Object(c.a)({},this.state,{},{searchValue:e.target.value}))}},{key:"handleDatePickerChange",value:function(e){this.setState(Object(c.a)({},this.state,{},{searchDate:e}))}},{key:"handleSubmit",value:function(e){e.preventDefault();var t="\uc601\ud654\uba85"===this.state.dropdownTitle,a=null;if(t)a=function(e,t,a){var n=[],l=e.filter((function(e){return e.movieNm===a}));return 0===l.length?null:(l.forEach((function(e){var t={rank:e.rank,movieNm:e.movieNm,movieCd:e.movieCd,openDt:e.openDt,salesAmt:e.salesAmt,salesAcc:e.salesAcc,audiCnt:e.audiCnt,audiAcc:e.audiAcc,scrnCnt:e.scrnCnt,showcnt:e.showcnt,date:e.date};n.push(t)})),n)}(this.state.rawdata,J(this.state.currentDate),this.state.searchValue),this.setState(Object(c.a)({},this.state,{},{isTitle:!0,titleData:a}));else{var n=a=U(this.state.rawdata,J(this.state.searchDate),this.state.isAttendace),l=n.title,r=n.daily,i=n.cumulative,s=n.theaters,o=n.trend;this.setState(Object(c.a)({},this.state,{},{isSearch:!0,currentDate:this.state.searchDate,isTitle:t,title:l,daily:r,cumulative:i,theaters:s,trend:o}))}}},{key:"handleMovienameClick",value:function(e){var t=e.target.getAttribute("data-title"),a=this.state.isSearch?J(this.state.searchDate):J(this.state.currentDate),n=z(this.state.rawdata,t,a,this.state.isAttendace),l=Object(c.a)({},this.state.title,{trend:n.title});this.setState(Object(c.a)({},this.state,{},{isLoading:!1,trend:n,title:l}))}},{key:"handleButtonClick",value:function(e){var t="attendance"===e,a=J(this.state.currentDate),n=U(this.state.rawdata,a,t),l=n.title,r=n.daily,i=n.cumulative,s=n.theaters,o=n.trend,d=n.rawdata;this.setState(Object(c.a)({},this.state,{},{isLoading:!1,isAttendace:t,buttonValue:e,title:l,daily:r,cumulative:i,theaters:s,trend:o,rawdata:d}))}},{key:"componentDidMount",value:function(){var e=this;W.a.get("../2019.json").then((function(t){var a=new Date;a.setFullYear(2020);var n=J(a),l=U(t.data.data,n),r=l.title,i=l.daily,s=l.cumulative,o=l.theaters,d=l.trend,u=l.rawdata;e.setState(Object(c.a)({},e.state,{},{isLoading:!1,title:r,daily:i,cumulative:s,theaters:o,trend:d,rawdata:u}))})).catch((function(t){console.log("error",t),e.setState(Object(c.a)({},e.state,{},{loadingMessage:l.a.createElement("p",null,"\ub370\uc774\ud130 \ub85c\ub4dc \uc911 \uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud558\uc600\uc2b5\ub2c8\ub2e4")}))}))}},{key:"render",value:function(){var e=this.state.isTitle,t=Object(c.a)({},this.state),a=l.a.createElement(B,{data:t,change:this.handleMovienameClick}),n=l.a.createElement(I,{data:this.state.titleData});return l.a.createElement(l.a.Fragment,null,l.a.createElement(v.a,null,l.a.createElement(A,{dropdownTitle:this.state.dropdownTitle,dropdownSelect:this.handleDropdownSelect,searchDate:this.state.searchDate,searchChange:this.handleSearchChange,datePickerChange:this.handleDatePickerChange,submit:this.handleSubmit,buttonClick:this.handleButtonClick,buttonValue:this.state.buttonValue}),t.isLoading?t.loadingMessage:e?n:a,l.a.createElement(G,null)))}}]),t}(n.Component);a(192);i.a.render(l.a.createElement(H,null),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.16351a92.chunk.js.map